import{j as s,u as m,a as y,r as c,b as j,B as v,L as k,G as g}from"./index-BtdeMlsq.js";import{V as b}from"./Views-DLv2rNDM.js";import{n as A,A as h}from"./AuthorityCheck-DAMhDgoO.js";import{L as C}from"./LinksGroup-DWdMSDRf.js";import{u as S,c as e}from"./UserPopOver-D4A7OG1T.js";import{S as w}from"./SimpleSideBarBottomContent-Bz48KFfG.js";import{C as B,M as L}from"./MantineLogo-ChzHpvAB.js";import"./use-resolved-styles-api-D9fsI3Id.js";import"./Text-DLRBVNmf.js";function M(){const p=m(),r=y(),[d,i]=c.useState(""),{t:f}=S(),l=j(t=>t.auth.user.role);c.useEffect(()=>{const t=r.pathname.split("/")[1];i(t)},[r.pathname]);const x=A.map((t,u)=>{let n=[];if(t.subMenu&&t.subMenu.length>0){n=t.subMenu.map(a=>({label:a.title,link:a.path,authority:a.authority}));const o=n.some(a=>r.pathname.includes(a.link));return s.jsx(h,{userAuthority:l||[],authority:t.authority,children:s.jsx(v,{ml:10,my:10,children:s.jsx(C,{initiallyOpened:o,icon:t.icon,label:t.title,links:n})})},u)}else return s.jsx(h,{userAuthority:l||[],authority:t.authority,children:s.jsxs(k,{className:e.link,"data-active":t.path.split("/")[1]===d?"true":void 0,to:t.path,onClick:o=>{o.preventDefault(),i(t.path.split("/")[1]),p(t.path)},children:[s.jsx(t.icon,{className:e.linkIcon,stroke:1.5}),s.jsx("span",{children:t.translateKey?f(t.translateKey):t.title})]})},u)});return s.jsxs("nav",{className:e.navbar,children:[s.jsxs("div",{className:e.navbarMain,children:[s.jsx(g,{className:e.header,justify:"space-between",children:s.jsx(L,{type:"mark",size:"9rem"})}),x]}),s.jsx(w,{})]})}function O(){return s.jsxs("div",{style:{overflow:"hidden",backgroundColor:"rgb(236,236,236)",display:"flex",flex:"1 1 auto",height:"100vh"},children:[s.jsx(M,{}),s.jsx("div",{style:{padding:"2rem",backgroundColor:"#ffffff",flex:1,overflow:"hidden",display:"flex",flexDirection:"column",height:"100vh"},children:s.jsx(B,{style:{overflowY:"auto",maxHeight:"100%",width:"100%",flex:1},radius:15,withBorder:!0,p:40,children:s.jsx(b,{})})})]})}export{O as default};
